{% extends 'CoyoteSiteBundle::base.html.twig' %}

{% block userinfo %}

{{ 'Bienvenue'|trans }} {{ app.session.get('username') }} |
<a href="{{ path('fos_user_security_logout') }}">
    {{ 'layout.logout'|trans({}, 'FOSUserBundle') }}
</a>

{% endblock %}

{% block link %}
<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
	<ul class="nav navbar-nav">
		<li class="active"><a href="{{ path('coyote_index') }}">{{'Accueil'|trans}}</a></li>
		<li id="frais" class="dropdown">
          <a href="{{ path('coyote_time_index') }}" class="dropdown-toggle" data-toggle="dropdown">{{'Présence'|trans}}<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{{ path('coyote_time_index') }}">{{'Saisie'|trans}}</a></li>
            <li><a href="{{ path('coyote_time_show') }}">{{'Consultation'|trans}}</a></li>
          </ul>
        </li>
        <li id="frais" class="dropdown">
          <a href="{{ path('coyote_expense_index') }}" class="dropdown-toggle" data-toggle="dropdown">{{'Note de Frais'|trans}}<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{{ path('coyote_expense_index') }}">{{'Index'|trans}}</a></li>
            <li><a href="{{ path('coyote_expense_create') }}">{{'Saisie'|trans}}</a></li>
            <li><a href="{{ path('coyote_expense_indexshow') }}">{{'Consultation'|trans}}</a></li>
          </ul>
        </li>
        <li id="profil" class="dropdown">
          <a href="{{ path('fos_user_profile_show') }}" class="dropdown-toggle" data-toggle="dropdown">{{'Profil'|trans}}<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{{ path('fos_user_profile_show') }}">{{'Information Profil'|trans}}</a></li>
            <li><a href="{{ path('coyote_changepassword') }}">{{'Changement de mot de passe'|trans}}</a></li>
          </ul>
        </li>
        <li id="config" class="dropdown">
          <a href="{{ path('coyote_configurator') }}" class="dropdown-toggle" data-toggle="dropdown">{{'Configurateur'|trans}}<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{{ path('coyote_configurator') }}">{{'Création d\'une config'|trans}}</a></li>
          </ul>
        </li>
        <li id="config" class="dropdown">
          <a href="{{ path('formorder_new') }}" class="dropdown-toggle" data-toggle="dropdown">{{'Formulaire'|trans}}<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{{ path('formorder_new') }}">{{'Formulaire Bon de commande'|trans}}</a></li>
          </ul>
        </li>
	</ul>
  </div>
</nav>
	
{% endblock %}

{% block content %}

<h2>Formulaire Bon de commande</h2>
<h3>Pièces détachées</h3>

<form action="{{ path('formorder_create') }}" method="post" {{ form_enctype(form) }}>
    <table id='table_temps' class='table'>
        <tr>
            <th>Date de la commande : </th>
            <td>{{ form_errors(form.created_at) }}{{ form_widget(form.created_at)}}</td>
        
            <th>Livraison : </th>
            <td>{{ form_errors(form.transport) }}{{ form_widget(form.transport)}}</td>
        </tr>
        <tr>
            <th colspan="4">Client (Adresse de facturation)</th>
        </tr>
        <tr>
            <th><input type="radio" name="typeclient" value="Concessionnaire" > Concessionnaire</input></th>
            <th><input type="radio" name="typeclient" value="client" > Client</input></th>
            <th>Code client : </th>
            <td><input type="text" name="codeclient"></input></td>
        </tr>
        <tr>
            <th>NOM Prénom : </th>
            <td colspan="3">{{ form_errors(form.userinfo.name) }}{{ form_widget(form.userinfo.name)}}</td>
        </tr>
        <tr>
            <th>Adresse : </th>
            <td colspan="3">{{ form_errors(form.userinfo.adress1) }}{{ form_widget(form.userinfo.adress1)}}</td>
        </tr>
        <tr>
            <th>Adresse(suite) : </th>
            <td colspan="3">{{ form_errors(form.userinfo.adress2) }}{{ form_widget(form.userinfo.adress2)}}</td>
        </tr>
        <tr>
            <th>Ville : </th>
            <td>{{ form_errors(form.userinfo.city) }}{{ form_widget(form.userinfo.city)}}</td>
            <th>Code Postal : </th>
            <td>{{ form_errors(form.userinfo.postal_box) }}{{ form_widget(form.userinfo.postal_box)}}</td>
        </tr>
        <tr>
            <th>Téléphone : </th>
            <td>{{ form_errors(form.userinfo.phone) }}{{ form_widget(form.userinfo.phone)}}</td>
            <th>Fax : </th>
            <td>{{ form_errors(form.userinfo.fax) }}{{ form_widget(form.userinfo.fax)}}</td>
        <tr>
            <th>Portable : </th>
            <td>{{ form_errors(form.userinfo.cell) }}{{ form_widget(form.userinfo.cell)}}</td>
            <th>Email : </th>
            <td>{{ form_errors(form.userinfo.email) }}{{ form_widget(form.userinfo.email)}}</td>
        </tr>
        <tr>
            <th colspan='4'>Adresse de livraison (si différente de l'adresse de facturation)</th>
        </tr>
        <tr>
            <th>Raison sociale : </th>
            <td>{{ form_errors(form.deliveryaddress.name) }}{{ form_widget(form.deliveryaddress.name)}}</td>
        </tr>
        <tr>
            <th>NOM Prénom : </th>
            <td colspan='3'>{{ form_errors(form.deliveryaddress.name) }}{{ form_widget(form.deliveryaddress.name)}}</td>
        </tr>
        <tr>
            <th>Adresse : </th>
            <td colspan='3'>{{ form_errors(form.deliveryaddress.adress1) }}{{ form_widget(form.deliveryaddress.adress1)}}</td>
        </tr>
        <tr>    
            <th>Adresse(suite) : </th>
            <td colspan='3'>{{ form_errors(form.deliveryaddress.adress2) }}{{ form_widget(form.deliveryaddress.adress2)}}</td>
        </tr>
        <tr>
            <th>Ville : </th>
            <td>{{ form_errors(form.deliveryaddress.city) }}{{ form_widget(form.deliveryaddress.city)}}</td>
            <th>Code Postal : </th>
            <td>{{ form_errors(form.deliveryaddress.postal_box) }}{{ form_widget(form.deliveryaddress.postal_box)}}</td>
        </tr>
        <tr>
            <th>Téléphone : </th>
            <td>{{ form_errors(form.deliveryaddress.phone) }}{{ form_widget(form.deliveryaddress.phone)}}</td>
            <th>Fax : </th>
            <td>{{ form_errors(form.deliveryaddress.fax) }}{{ form_widget(form.deliveryaddress.fax)}}</td>
        </tr>
        <tr>
            <th>Portable : </th>
            <td>{{ form_errors(form.deliveryaddress.cell) }}{{ form_widget(form.deliveryaddress.cell)}}</td>
            <th>Email : </th>
            <td>{{ form_errors(form.deliveryaddress.email) }}{{ form_widget(form.deliveryaddress.email)}}</td>
        </tr>
    </table>
    <table id='table_temps' class='table'>
        <tr>
            <th>N° de série de la machine</th>
            <td colspan="2"><input type="text" id="machine"</td>
        </tr>
        <tr>
            <th>Code</th>
            <th>Quantité</th>
            <th>Désignation</th>
        </tr>
        <tr>
            <td>{{ form_errors(form.item.code) }}{{ form_widget(form.item.code )}}</td>
            <td>{{ form_errors(form.amount) }}{{ form_widget(form.amount )}}</td>
            <td>{{ form_errors(form.item.designation1) }}{{ form_widget(form.item.designation1 )}}</td>
        </tr>
    </table>
    <button class='btnsave' type="submit" value="Enregistrer" id="enregistrer">{{ 'Créer'|trans }}</button>
  </form>

{% endblock %}


{#{% extends '::base.html.twig' %}

{% block body -%}
    <h1>FormOrder creation</h1>

    {{ form(form) }}

        <ul class="record_actions">
    <li>
        <a href="{{ path('formorder') }}">
            Back to the list
        </a>
    </li>
</ul>
{% endblock %}#}
